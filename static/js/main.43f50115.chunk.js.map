{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Modal/Modal.js","components/Load/Load.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","services/imageApi.js","App.js","index.js","components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Modal","componentDidMount","window","addEventListener","modal","componentWillUnmount","removeEventListener","elem","code","target","nodeName","props","modalClose","className","src","this","largeImageURL","alt","Component","Loaders","type","color","height","width","timeout","Searchbar","state","cond","handleSubmit","preventDefault","onSubmit","handleChange","setState","value","autoComplete","autoFocus","placeholder","onChange","ImageGalleryItem","webformatURL","id","classes","ImageGalleryItemImage","ImageGallery","data","openModal","map","Button","handleClick","onClick","button","getFetch","q","page","url","axios","get","then","response","hits","App","loading","error","query","hendleSearch","queryOn","prevState","fetchData","APIkey","imageApi","length","document","documentElement","scrollTop","clientHeight","scrollTo","top","behavior","catch","finally","prevProps","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.43f50115.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__U4edj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3klqL\"};","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default class Modal extends Component {\r\n  static propTypes = {\r\n    modal: PropTypes.func,\r\n    largeImageURL: PropTypes.string.isRequired,\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    window.addEventListener(\"keydown\", this.modal);\r\n    window.addEventListener(\"click\", this.modal);\r\n  };\r\n\r\n  componentWillUnmount = () => {\r\n    window.removeEventListener(\"keydown\", this.modal);\r\n    window.removeEventListener(\"click\", this.modal);\r\n  };\r\n\r\n  modal = (elem) => {\r\n    if (elem.code === \"Escape\" || elem.target.nodeName !== \"IMG\") {\r\n      this.props.modalClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"Overlay\">\r\n        <div className=\"Modal\">\r\n          <img src={this.props.largeImageURL} alt=\"\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n//find react-loader-spinner in node-modals previously installing the package by command ' npm install react-loader-spinner --save '\r\n\r\nexport default class Loaders extends Component {\r\n  render() {\r\n    return (\r\n      <Loader\r\n        type=\"Puff\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000}\r\n      />\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default class Searchbar extends Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n\r\n  state = {\r\n    cond: \"\",\r\n  };\r\n\r\n  handleSubmit = (elem) => {\r\n    elem.preventDefault();\r\n    this.props.onSubmit(this.state.cond);\r\n  };\r\n\r\n  handleChange = (elem) => {\r\n    this.setState({ cond: elem.target.value });\r\n  };\r\n\r\n  render() {\r\n    const { cond } = this.state;\r\n    return (\r\n      <div>\r\n        <header className=\"Searchbar\">\r\n          <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n            <button type=\"submit\" className=\"SearchForm-button\">\r\n              <span className=\"SearchForm-button-label\">Search</span>\r\n            </button>\r\n\r\n            <input\r\n              value={cond}\r\n              className=\"SearchForm-input\"\r\n              type=\"text\"\r\n              autoComplete=\"off\"\r\n              autoFocus\r\n              placeholder=\"Search images and photos\"\r\n              onChange={this.handleChange}\r\n            />\r\n          </form>\r\n        </header>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport classes from \"./ImageGalleryItem.module.css\";\r\n\r\nfunction ImageGalleryItem({ webformatURL, id, type }) {\r\n  return (\r\n    <li key={id} className={classes.ImageGalleryItem}>\r\n      <img\r\n        src={webformatURL}\r\n        alt={type}\r\n        className={classes.ImageGalleryItemImage}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport classes from \"./ImageGallery.module.css\";\r\n\r\nfunction ImageGallery({ data, openModal }) {\r\n  return (\r\n    <div>\r\n      <ul className={classes.ImageGallery}>\r\n        {data.map((elem) => {\r\n          return (\r\n            <ImageGalleryItem\r\n              key={elem.id}\r\n              webformatURL={elem.webformatURL}\r\n              openModal={openModal}\r\n              largeImageURL={elem.largeImageURL}\r\n            />\r\n          );\r\n        })}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\nImageGallery.propTypes = {\r\n  data: PropTypes.array.isRequired,\r\n  openModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport classes from \"./Button.module.css\";\r\n\r\nexport default function Button({ handleClick }) {\r\n  return (\r\n    <>\r\n      <button type=\"button\" onClick={handleClick} className={classes.button}>\r\n        Load more ;)\r\n      </button>\r\n    </>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  handleClick: PropTypes.func.isRequired,\r\n};\r\n","import axios from \"axios\";\r\n// console.log(axios);\r\n\r\nfunction getFetch(q, page) {\r\n  let key = \"18650825-85dd9ce829ef20624228a2c85\";\r\n  let perPage = 12;\r\n\r\n  let url = `https://pixabay.com/api/?q=${q}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=${perPage}`;\r\n\r\n  return axios.get(url).then((response) => {\r\n    // console.log(response.data.hits);\r\n    return response.data.hits;\r\n  });\r\n}\r\n\r\nexport default getFetch;\r\n","import React, { Component } from \"react\";\nimport \"./App.css\";\n\nimport Modal from \"./components/Modal/Modal\";\nimport Load from \"./components/Load/Load\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport Button from \"./components/Button/Button\";\n\nimport imageApi from \"./services/imageApi\";\n// console.log(imageApi);\n\nclass App extends Component {\n  state = {\n    data: [],\n    loading: false,\n    error: null,\n    query: \"\",\n    page: 1,\n    largeImageURL: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevState.query;\n    const nextQuery = this.state.query;\n    if (prevQuery !== nextQuery) {\n      this.fetchData();\n    }\n  }\n\n  hendleSearch = (queryOn) => {\n    this.setState({\n      data: [],\n    });\n    this.setState({\n      query: queryOn,\n    });\n  };\n  openModal = (largeImageURL) => {\n    this.setState({\n      largeImageURL: largeImageURL,\n    });\n  };\n  modalClose = () => {\n    this.setState((prevState) => ({ largeImageURL: !prevState.largeImageURL }));\n  };\n\n  fetchData = () => {\n    this.setState({ loading: true });\n    const { query, page, APIkey } = this.state;\n    imageApi(query, page, APIkey)\n      .then((data) => {\n        // console.log(data);\n        if (data.length < 1) {\n          this.setState({ error: true });\n        } else {\n          this.setState((prevState) => ({\n            data: [...prevState.data, ...data],\n            page: prevState.page + 1,\n            error: false,\n          }));\n          const { scrollTop, clientHeight } = document.documentElement;\n          if (page > 1) {\n            window.scrollTo({\n              top: scrollTop + clientHeight - 160,\n              behavior: \"smooth\",\n            });\n          }\n        }\n      })\n      .catch((error) => this.setState({ error }))\n      .finally(() => this.setState({ loading: false }));\n  };\n\n  render() {\n    const { data, loading, error, largeImageURL } = this.state;\n    return (\n      <div>\n        <Searchbar onSubmit={this.hendleSearch} />\n        {error && <p>...The query value failed...</p>}\n\n        {loading && <Load />}\n        <ImageGallery data={data} openModal={this.openModal} />\n        {data.length > 0 && <Button handleClick={this.fetchData} />}\n        {largeImageURL && (\n          <Modal\n            onSubmit={this.openModal}\n            largeImageURL={largeImageURL}\n            modalClose={this.modalClose}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n\n// class App extends Component {\n//   state = {\n//     q: \"\",\n//     page: 1,\n//     images: [],\n//   };\n\n//   getQ = (query) => {\n//     this.setState({ q: query });\n//   };\n\n//   fetchImages = () => {\n//     const { q, page } = this.state;\n\n//     imageApi\n//       .getFetch(q, page)\n//       .then((data) => {\n//         console.log(data);\n//         if (data.length > 0) {\n//           this.setState((prev) => ({\n//             images: [...prev.images, ...data],\n//             page: prev.page + 1,\n//           }));\n//         }\n//       })\n//       .catch((error) => console.log(error));\n//   };\n\n//   componentDidMount() {}\n\n//   componentDidUpdate(prevProps, prevState) {\n//     if (prevState.q !== this.state.q) {\n//       this.fetchImages();\n//     }\n//   }\n\n//   componentWillUnmount() {}\n\n//   handleSubmit = searchQuery => {\n//     this.setState({ query: searchQuery, page: 1, data: [] });\n//   };\n\n//   handleChange = ({ target }) => {\n//     const { value, name } = target;\n//     this.setState({\n//       [name]: value,\n//     });\n//   };\n//   getLargeImg = image => {\n//     this.setState({\n//       largeImageURL: image,\n//     });\n//   };\n//   closeModal = () => {\n//     this.setState({\n//       largeImageURL: '',\n//     });\n//   };\n\n//   render() {\n//     return (\n//       <>\n//         <Searchbar getQ={this.getQ} />\n//         <ImageGallery props={this.state.images} />\n//         <Button />\n//         <Load />\n//         <Modal />\n//       </>\n//     );\n//   }\n// }\n\n// export default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2Ac6K\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__355Kl\"};"],"sourceRoot":""}