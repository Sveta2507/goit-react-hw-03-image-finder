{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Modal/Modal.js","components/Load/Load.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","services/imageApi.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Modal","componentDidMount","window","addEventListener","modal","componentWillUnmount","removeEventListener","elem","code","target","nodeName","props","modalClose","className","classes","Overlay","src","this","largeImageURL","alt","Component","Loaders","type","color","height","width","timeout","Searchbar","state","cond","handleSubmit","preventDefault","onSubmit","handleChange","setState","value","SearchForm","SearchFormButton","SearchFormButtonLabel","name","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","ImageGalleryItem","openModal","console","log","onClick","webformatURL","ImageGalleryItemImage","ImageGallery","data","map","id","Button","handleClick","button","getFetch","q","page","url","axios","get","then","response","hits","propTypes","PropTypes","string","isRequired","number","key","App","loading","error","query","hendleSearch","queryOn","prevState","fetchData","APIkey","imageApi","length","document","documentElement","scrollTop","clientHeight","scrollTo","top","behavior","catch","finally","prevProps","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d041f0b0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1AeFn\",\"Modal\":\"Modal_Modal__1bOlV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2Ac6K\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__355Kl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__U4edj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3klqL\"};","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport classes from \"./Modal.module.css\";\r\n\r\nexport default class Modal extends Component {\r\n  static propTypes = {\r\n    modal: PropTypes.func,\r\n    largeImageURL: PropTypes.string.isRequired,\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    window.addEventListener(\"keydown\", this.modal);\r\n    window.addEventListener(\"click\", this.modal);\r\n  };\r\n\r\n  componentWillUnmount = () => {\r\n    window.removeEventListener(\"keydown\", this.modal);\r\n    window.removeEventListener(\"click\", this.modal);\r\n  };\r\n\r\n  modal = (elem) => {\r\n    if (elem.code === \"Escape\" || elem.target.nodeName !== \"IMG\") {\r\n      this.props.modalClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={classes.Overlay}>\r\n        <div className={classes.Modal}>\r\n          <img src={this.props.largeImageURL} alt=\"\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n//find react-loader-spinner in node-modals previously installing the package by command ' npm install react-loader-spinner --save '\r\n\r\nexport default class Loaders extends Component {\r\n  render() {\r\n    return (\r\n      <Loader\r\n        type=\"Puff\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000}\r\n      />\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport classes from \"./Searchbar.module.css\";\r\n\r\nexport default class Searchbar extends Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n\r\n  state = {\r\n    cond: \"\",\r\n  };\r\n\r\n  handleSubmit = (elem) => {\r\n    elem.preventDefault();\r\n    this.props.onSubmit(this.state.cond);\r\n  };\r\n\r\n  handleChange = (elem) => {\r\n    this.setState({ cond: elem.target.value });\r\n  };\r\n\r\n  render() {\r\n    const { cond } = this.state;\r\n    return (\r\n      <div>\r\n        <header className={classes.Searchbar}>\r\n          <form className={classes.SearchForm} onSubmit={this.handleSubmit}>\r\n            <button type=\"submit\" className={classes.SearchFormButton}>\r\n              <span className={classes.SearchFormButtonLabel}>Search</span>\r\n            </button>\r\n\r\n            <input\r\n              name=\"cond\"\r\n              value={cond}\r\n              className={classes.SearchFormInput}\r\n              type=\"text\"\r\n              autoComplete=\"off\"\r\n              autoFocus\r\n              placeholder=\"Search images and photos\"\r\n              onChange={this.handleChange}\r\n            />\r\n          </form>\r\n        </header>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport classes from \"./ImageGalleryItem.module.css\";\r\n\r\nclass ImageGalleryItem extends Component {\r\n  static propTypes = { onClick: PropTypes.func };\r\n\r\n  modal = (elem) => {\r\n    this.props.openModal(this.props.largeImageURL);\r\n    console.log(this.props.largeImageURL);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <li onClick={this.modal} className={classes.ImageGalleryItem}>\r\n          <img\r\n            src={this.props.webformatURL}\r\n            alt=\"type\"\r\n            key={this.props.largeImageURL}\r\n            className={classes.ImageGalleryItemImage}\r\n          />\r\n        </li>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport classes from \"./ImageGallery.module.css\";\r\n\r\nfunction ImageGallery({ data, openModal }) {\r\n  return (\r\n    <div>\r\n      <ul className={classes.ImageGallery}>\r\n        {data.map((elem) => {\r\n          return (\r\n            <ImageGalleryItem\r\n              key={elem.id}\r\n              webformatURL={elem.webformatURL}\r\n              openModal={openModal}\r\n              largeImageURL={elem.largeImageURL}\r\n            />\r\n          );\r\n        })}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\nImageGallery.propTypes = {\r\n  data: PropTypes.array.isRequired,\r\n  openModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport classes from \"./Button.module.css\";\r\n\r\nexport default function Button({ handleClick }) {\r\n  return (\r\n    <>\r\n      <button type=\"button\" onClick={handleClick} className={classes.button}>\r\n        Load more ;)\r\n      </button>\r\n    </>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  handleClick: PropTypes.func.isRequired,\r\n};\r\n","import axios from \"axios\";\r\nimport PropTypes from \"prop-types\";\r\n// console.log(axios);\r\n\r\nfunction getFetch(q, page) {\r\n  let key = \"18650825-85dd9ce829ef20624228a2c85\";\r\n  let perPage = 12;\r\n\r\n  let url = `https://pixabay.com/api/?q=${q}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=${perPage}`;\r\n\r\n  return axios.get(url).then((response) => {\r\n    // console.log(response.data.hits);\r\n    return response.data.hits;\r\n  });\r\n}\r\n\r\ngetFetch.propTypes = {\r\n  q: PropTypes.string.isRequired,\r\n  page: PropTypes.number.isRequired,\r\n  key: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default getFetch;\r\n","import React, { Component } from \"react\";\nimport \"./App.css\";\n\nimport Modal from \"./components/Modal/Modal\";\nimport Load from \"./components/Load/Load\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport Button from \"./components/Button/Button\";\n\nimport imageApi from \"./services/imageApi\";\n// console.log(imageApi);\n\nclass App extends Component {\n  state = {\n    data: [],\n    loading: false,\n    error: null,\n    query: \"\",\n    page: 1,\n    largeImageURL: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevState.query;\n    const nextQuery = this.state.query;\n    if (prevQuery !== nextQuery) {\n      this.fetchData();\n    }\n  }\n\n  hendleSearch = (queryOn) => {\n    this.setState({\n      data: [],\n      page: 1,\n    });\n    this.setState({\n      query: queryOn,\n    });\n  };\n\n  openModal = (largeImageURL) => {\n    this.setState({\n      largeImageURL: largeImageURL,\n    });\n  };\n\n  modalClose = () => {\n    this.setState((prevState) => ({ largeImageURL: !prevState.largeImageURL }));\n  };\n\n  fetchData = () => {\n    this.setState({ loading: true });\n    const { query, page, APIkey } = this.state;\n    imageApi(query, page, APIkey)\n      .then((data) => {\n        if (data.length < 1) {\n          this.setState({ error: true });\n        } else {\n          this.setState((prevState) => ({\n            data: [...prevState.data, ...data],\n            page: prevState.page + 1,\n            error: false,\n          }));\n          const { scrollTop, clientHeight } = document.documentElement;\n          if (page > 1) {\n            window.scrollTo({\n              top: scrollTop + clientHeight - 160,\n              behavior: \"smooth\",\n            });\n          }\n        }\n      })\n      .catch((error) => this.setState({ error }))\n      .finally(() => this.setState({ loading: false }));\n  };\n\n  render() {\n    const { data, loading, error, largeImageURL } = this.state;\n    return (\n      <div>\n        <Searchbar onSubmit={this.hendleSearch} />\n        {error && <p>Error</p>}\n\n        {loading && <Load />}\n        <ImageGallery data={data} openModal={this.openModal} />\n        {data.length > 0 && <Button handleClick={this.fetchData} />}\n        {largeImageURL && (\n          <Modal\n            onSubmit={this.openModal}\n            largeImageURL={largeImageURL}\n            modalClose={this.modalClose}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3qJk3\",\"SearchForm\":\"Searchbar_SearchForm__ROoQj\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1OtV2\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2YRuG\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3Wnd2\"};"],"sourceRoot":""}